<!DOCTYPE html>

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="icon" href="../img/logoCPT.png">
    <link rel="stylesheet" href="../css/style_mainQT.css">
    <script src="https://kit.fontawesome.com/e06076012c.js" crossorigin="anonymous"></script>
    <link rel="stylesheet" href="/font/fontawesome-free-6.2.0-web/css/all.min.css">
    <script src="/code/jquery-3.6.0.min.js"></script>
    <script src="/code/click.js"></script>
    <title>Quản lý cửa hàng bán máy tính NCC</title>
</head>

<body ng-app="app"  ng-controller="HDNController">
    <section class="header">
        <a href="javascript:void(0);" class="icon" onclick="openBTN()">
            <i class="fas fa-bars"></i>
        </a>
        <div class="box-login" id="box-t">
            Xin chào, <span id="ten_nv">Admin</span> <i class="fas fa-sort-down"></i>
            <div class="box-login-bottom" id="box-b">
                <button onclick="TTTaiKhoan()"><i class="fas fa-user-alt"></i> Tài khoản</button>
                <button onclick="LogOut();"><i class="fas fa-sign-out-alt"></i> Đăng xuất</button>
            </div>
        </div>
    </section>
    <section class="main">
        <div class="row">
            <div class="col-1 col-s-12 category">
                <button onclick="TongQuan()"><i class="fas fa-tachometer-alt"></i> Tổng quan</button>
                <button onclick="LoaiSanPham()"><i class="fas fa-boxes"></i> Loại sản phẩm</button>
                <button onclick="SanPham()"><i class="fas fa-barcode"></i> Sản phẩm</button>
                <button onclick="NhaCungCap()"><i class="fas fa-truck"></i> Nhà cung cấp</button>
                <button class="active" onclick="HoaDonNhap()"><i class="fas fa-file-import"></i> Hóa đơn nhập</button>
                <button onclick="HoaDonBan()"><i class="fas fa-shopping-cart"></i> Hóa đơn bán</button>
                <button onclick="TinTuc()"><i class="fas fa-newspaper"></i> Tin tức</button>
                <button onclick="ThietLap()"><i class="fas fa-cogs"></i> Thiết lập</button>
            </div>
            <div class="bx-left" id="button-left">
                <a href="javascript:void(0)" class="closebtn" onclick="closeBTN()"><i
                        class="far fa-window-close"></i></a>
                <ul>
                    <li onclick="TongQuan()"><i class="fas fa-tachometer-alt"></i> Tổng quan</li>
                    <li onclick="LoaiSanPham()"><i class="fas fa-boxes"></i> Loại sản phẩm</li>
                    <li onclick="SanPham()"><i class="fas fa-barcode"></i> Sản phẩm</li>
                    <li onclick="NhaCungCap()"><i class="fas fa-truck"></i> Nhà cung cấp</li>
                    <li onclick="KhachHang()"><i class="fas fa-users"></i> Khách hàng</li>
                    <li onclick="NhanVien()"><i class="fas fa-user"></i> Nhân viên</li>
                    <li onclick="HoaDonNhap()"><i class="fas fa-file-import"></i> Hóa đơn nhập</li>
                    <li onclick="HoaDonBan()"><i class="fas fa-shopping-cart"></i> Hóa đơn bán</li>
                    <li onclick="TinTuc()"><i class="fas fa-newspaper"></i> Tin tức</li>
                    <li onclick="ThietLap()"><i class="fas fa-cogs"></i> Thiết lập</li>
                </ul>
            </div>
            <div class="col-11 col-s-12 content">
                <div class="col-6 col-s-12 content">
                    <div class="tabcontent">
                        <div class="title">
                            <i class="fas fa-file-import"></i> Nhập thông tin hóa đơn nhập
                            <hr>
                        </div>
                        <div class="row">
                            <form>
                                <div class="col-12 col-s-12 padding-box">
                                    <label for="txtright">Mã hóa đơn nhập:</label>
                                </div>
                                <div class="col-12 col-s-12 padding-box">
                                    <input type="text" id="mahd"
                                        placeholder="Nhập mã hóa đơn...Tự động sinh nếu không nhập...">
                                </div>
                                <div class="col-12 col-s-12 padding-box">
                                    <label for="txtright">Loại hàng:</label>
                                </div>
                                <div class="col-12 col-s-12 padding-box">
                                    <select ng-model = "Idcategory" name="nhanvien" id="MaLoaiHangnhap" ng-change = "categoryChanged()">
                                        <option value="choose">--Chọn loại hàng muốn nhập--</option>
                                        <option ng-repeat = "x in listCategory"  value="{{x.iDcategory}}">{{x.namecategory}}</option>
                                        
                                    </select>
                                </div>
                                <div class="col-12 col-s-12 padding-box">
                                    <label for="txtright">Nhà cung cấp:</label>
                                </div>
                                <div class="col-12 col-s-12 padding-box">
                                    <select ng-model = "maNhaCC" name="nhacungcap" id="nhacungcap" ng-change = "nhaCCChanged()">
                                        <option value="choose">--Chọn nhà cung cấp--</option>
                                        <option ng-repeat = " x in listNhacc" value="{{x.maNhaCC}}">{{x.tenNhaCC}}</option>
                                        
                                    </select>
                                </div>
                                <div class="col-12 col-s-12 padding-box">
                                    <label for="txtright">Tổng sản phẩm:</label>
                                </div>
                                <div class="col-12 col-s-12 padding-box">
                                    <input ng-model = "soLuong" type="number" id="tongsanpham"  >
                                </div>
                                <div class="col-12 col-s-12 padding-box">
                                    <label for="txtright">Giá Nhập:</label>
                                </div>
                                <div class="col-12 col-s-12 padding-box">
                                    <input ng-model = "gianhap" type="number" id="tongtien" >
                                </div>
                                <div class="col-12 col-s-12 padding-box">
                                    <label for="txtright">Tên sản phẩm:</label>
                                </div>
                                <div class="col-12 col-s-12 padding-box">
                                    <textarea id="ghichu" cols="197" rows="4"
                                        placeholder="Chọn sản phẩm ở bảng sản phẩm"></textarea>
                                </div>
                            </form>
                        </div>
                        <hr>
                        
                        <hr>
                        <button class="btn-form" style="background-color: rgba(44, 140, 15, 0.8);"
                            ng-click = "createHoaDonNhap()">Thêm hóa đơn nhập</button>
                        <button class="btn-form" style="background-color: rgba(227, 32, 21, 0.8);"
                            onclick="NhapMoi()">Nhập mới</button>
                    </div>
                </div>
                <div class="col-6 col-s-12 content">
                    <div class="tabcontent">
                        <div class="title">
                            <i class="fas fa-file-import"></i> Danh sách hóa đơn nhập
                            <button onclick="XoaChon()" style="margin-right: 3px;"><i class="far fa-trash-alt"></i> Xóa
                                chọn</button>
                            <hr>
                        </div>
                        <div class="row">
                            <div class="col-10 col-s-12 padding-box">
                                <input type="text" id="search-import" placeholder="Nhập mã hóa đơn nhập...">
                            </div>
                            <div class="col-2 col-s-12 padding-box">
                                <button><i class="fas fas fa-search"></i> Tìm kiếm</button>
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-12 col-s-12 padding-box">
                                <table>
                                    <thead>
                                        <tr>
                                            <th style="padding-top: 10px;"><input type="checkbox"
                                                    onclick="CheckAll(this)"></th>
                                            <th>Mã HDN</th>
                                            <th>Nhân viên</th>
                                            <th>Nhà cung cấp</th>
                                            <th>Tổng sản phẩm</th>
                                            <th>Tổng tiền</th>
                                            <th>Ngày tạo</th>
                                            <th>Thao tác</th>
                                        </tr>
                                    </thead>
                                    <tbody id="listImport"></tbody>
                                     <tbody>
                                        <tr>
                                            <td style="text-align: center;padding-top: 10px;"><input type="checkbox" value="" id=""></td>
                                            <td>111111</td>
                                            <td>Nguyễn Văn Anh</td>
                                            <td>Trần Anh</td>
                                            <td style="text-align: center;">20</td>
                                            <td style="text-align: right;">48900000</td>
                                            <td style="text-align: center;">03/06/2021 08:40:05</td>
                                            <td style="text-align: center;">
                                                <i class="fas fa-edit" title="Sửa"></i>
                                                <i class="fas fa-trash-alt" title="Xóa"></i>
                                            </td>
                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                            <div class="col-12 col-s-12 padding-box">
                                <div class="box-sum">
                                    <div class="box-left">
                                        Số lượng hóa đơn: <span id="soluong">0</span>
                                        <br>
                                        Tổng tiền: <span id="tongtienhd">0</span><span>đ</span>
                                    </div>
                                    <div class="box-right">
                                        <button><i class="fas fa-angle-left"></i></button>
                                        <button>1</button>
                                        <button>2</button>
                                        <button>3</button>
                                        <button>4</button>
                                        <button><i class="fas fa-angle-right"></i></button>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="row ">
                        <table class = 'col-12 col-s-12 padding-box' >
                            <tbody id="DSSanPham">
                                <tr>
                                    <th>Mã sản phẩm</th>
                                    <th>Tên sản phẩm</th>
                                    <th>Số lượng</th>
                                    <th>Đơn giá</th>
                                    <th>Thao tác</th>
                                </tr>
                            </tbody>
                            <tbody id="listProduct"></tbody>
                                 <tbody>
                                    <tr style = "border-collapse: collapse;" ng-repeat = "x in productlist">
                                        <td>{{x.iDproduct}}</td>
                                        <td>{{x.nameproduct}}</td>
                                        <td style="text-align: center;">{{x.soLuong}}</td>
                                        <td style="text-align: right;">{{x.priceproduct}}</td>
                                        <td style="text-align: center; background-color: aquamarine;cursor: pointer;" ng-click="editProduct(x)">
                                            <i class="fa-solid fa-plus" title="Sửa" ></i>
                                            
                                        </td>
                                    </tr>
                                </tbody>
                        </table>
                        <button class="btn-form" id="AddSanPham"    onclick="SanPham()"
                            style="background-color: rgba(44, 140, 15, 0.8); cursor: pointer;">Thêm sản phẩm</button>
                    </div>
                </div>
            </div>
        </div>
        <script>
           

            

            function CheckAll(parent) {
                var ids = document.getElementsByTagName('input');
                for (var i = 0; i < ids.length; i++) {
                    if (ids[i].name == "check_all") {
                        ids[i].checked = parent.checked;
                    }
                }
            }
        </script>
    </section>
</body>
    <script src = "/code/angular.min.js"></script>
    <script src = "/code/global.js"></script>
    <script src = "/code/hoadonnhap.js"></script>

</html>